#:import dp kivy.metrics.dp

<DeckManagerScreen>:
    MDBoxLayout:
        orientation: 'vertical'
        spacing: 10
        padding: 10

        MDLabel:
            text: '[デッキ管理]'
            halign: 'center'
            size_hint_y: 0.1

        MDBoxLayout:
            id: new_deck_row
            orientation: 'horizontal'
            spacing: 10
            size_hint_y: None
            height: dp(48)
            MDTextField:
                id: new_deck_input
                hint_text: '新しいデッキ名'
            MDRaisedButton:
                text: 'デッキを作成'
                size_hint_x: None
                width: dp(120)
                md_bg_color: 0.4, 0.4, 0.6, 1
                on_press: root.create_deck(self)
            MDIconButton:
                icon: 'refresh'
                on_press: root.refresh_deck_list()
                size_hint_x: None
                width: dp(48)

        MDScrollView:
            size_hint: 1, 0.6
            MDBoxLayout:
                id: deck_buttons_layout
                orientation: 'vertical'
                spacing: 5
                size_hint_y: None
                height: self.minimum_height

        MDBoxLayout:
            id: import_row
            orientation: 'horizontal'
            spacing: 10
            size_hint_y: None
            height: dp(48)
            MDTextField:
                id: import_path_input
                hint_text: 'CSVファイルのパスを入力'
                size_hint_x: 0.7
            MDRaisedButton:
                text: 'CSVからインポート'
                size_hint_x: 0.3
                md_bg_color: 0.3, 0.6, 0.3, 1
                on_press: root.import_deck_from_csv(self)

        MDBoxLayout:
            id: bottom_row
            orientation: 'horizontal'
            spacing: 10
            size_hint_y: None
            height: dp(48)
            MDRaisedButton:
                text: '戻る'
                size_hint_x: 0.5
                md_bg_color: 0.7, 0.2, 0.2, 1
                on_press: root.go_back(self)
            MDRaisedButton:
                text: '全てのカードを見る'
                size_hint_x: 0.5
                md_bg_color: 0.2, 0.6, 0.2, 1
                on_press: root.show_all_cards(self)
